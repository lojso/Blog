# Сортировка вставками / Insertion sort
## Описание идеи
Сортировка вставками выглядит примерно так, как если бы человек сортировал что-либо. Делим массив на два множества: отсортированных и не отсортированных элементов. Затем мы берем по одному элементу из неотсортированного множества, находим для него позицию в отсортированном множестве и вставляем элемент на данную позицию.

### Конкретный пример
![Схема сортировки](./Images/sorting_diagram.jpeg)
Предположим, что нам нужно отсортировать следующий массив: {31, 41, 59, 26, 41, 58}. Разделим массив на 3 части — уже отсортированную (серая), сортируемый элемент (зеленый), неотсортированную (белая). Сразу же можем положить в отсортированную часть первый элемент массива, поскольку множество из одного элемента является отсортированным.

Начинаем искать позицию для сортируемого элемента в отсортированной части. Поиск происходит справа налево. Ищем позицию, слева от которой элемент будет меньше сортируемого элемента, это будет позицией для нашего элемента. Так как мы ищем место в уже отсортированном массиве, то и все элементы после найденного будут меньше сортируемого, так что нам не нужно их проверять. Сдвигаем все отсортированные элементы, начиная с позиции, куда мы будем вставлять наш элемент, на один шаг вправо. Теперь записываем в найденную позицию сортируемый элемент.

Готово, переходим к следующему элементу.

## Псевдокод

```
for i = 1 to A.len
    key = A[i]
    
    j = i - 1
    while j >= 0 and A[j] > key
        A[j + 1] = A[j]
        j = j - 1
    A[j + 1] = key
```
## Реализация на C#
## Сложность
Сложность сортировки в худшем случае будет N<sup>2</sup>. Но при почти отсортированных массивах сложность алгоритма стремится к N, так как почти не будет обменов элементов.